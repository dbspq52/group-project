<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Crash Points Map with Monthly Statistics</title>
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.8.2/mapbox-gl.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.8.2/mapbox-gl.css" rel="stylesheet"/>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    
</head>
<body>
    <div class="tabs">
        <div id="show-map" class="tab active">Show Collision Map</div>
        <div id="add-collision" class="tab">Add Collision Prediction</div>
    </div>

    <div id="map-content" class="content active">
        <div id="map"></div>
        <div id="statistics">
            <h2>Monthly Collision Statistics</h2>
            <div id="date-slider-container">
                <input type="range" id="date-slider" min="0" max="120" value="0" step="1">
                <div id="slider-labels">
                    <span>March</span>
                    <span>April</span>
                    <span>May</span>
                    <span>June</span>
                </div>
                <p id="selected-date-range">Selected Date: 2012-03-01</p>
            </div>
            
            <!-- D3.js 차트를 렌더링할 SVG 요소 -->
            <svg id="plot" width="100%" height="400"></svg>

            <button id="showAll">Show All Data</button>
            <button id="reset">CLEAR</button>
            
        </div>
    </div>

    <div id="add-content" class="content">
        <div id="add-map"></div>
        <div id="add-statistics">
            <h2>Add Collision Point</h2>
            <p>Click on the map to add a prediction point.</p>
            <div id="add-result"></div>
        </div>
    </div>
    <script>
        var graphData = {{ graph_data | safe }};
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
